<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>The Montmorency dataset • Northern Robotics Laboratory</title>
    <meta name="description" content="This large scale forest mapping dataset in now available for download on Academic Torrents.
The dataset contains the ground truth species, diameter at breast height (DBH) and position of more than 1000 trees across four forests, as well as 11 trajectories of a lidar-equipped robot going through these forests.
It has been the subject of a publication at the 12th Conference on Field and Service Robotics, as well as the Journal of Field Robotics.

">
    <meta name="keywords" content="project, mapping, forestry, lidar">
    
    	<!-- Twitter Cards -->
	<meta name="twitter:title" content="The Montmorency dataset">
	<meta name="twitter:description" content="This large scale forest mapping dataset in now available for download on Academic Torrents.
The dataset contains the ground truth species, diameter at breast height (DBH) and position of more than 1000 trees across four forests, as well as 11 trajectories of a lidar-equipped robot going through these forests.
It has been the subject of a publication at the 12th Conference on Field and Service Robotics, as well as the Journal of Field Robotics.

">
	
	
	
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:image" content="https://norlab.ulaval.ca/images/projects/forest_mapping_feature.jpg">
	
	<!-- Open Graph -->
	<meta property="og:locale" content="en">
	<meta property="og:type" content="article">
	<meta property="og:title" content="The Montmorency dataset">
	<meta property="og:description" content="This large scale forest mapping dataset in now available for download on Academic Torrents.
The dataset contains the ground truth species, diameter at breast height (DBH) and position of more than 1000 trees across four forests, as well as 11 trajectories of a lidar-equipped robot going through these forests.
It has been the subject of a publication at the 12th Conference on Field and Service Robotics, as well as the Journal of Field Robotics.

">
	<meta property="og:image" content="https://norlab.ulaval.ca/images/projects/forest_mapping_teaser.jpg">
	<meta property="og:url" content="https://norlab.ulaval.ca/research/montmorencydataset/">
	<meta property="og:site_name" content="Northern Robotics Laboratory">


    <link rel="canonical" href="https://norlab.ulaval.ca/research/montmorencydataset/">

    <link href="https://norlab.ulaval.ca/atom.xml" type="application/atom+xml" rel="alternate" title="Northern Robotics Laboratory Atom Feed">
    <link href="https://norlab.ulaval.ca/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">

    <link rel="stylesheet" href="https://norlab.ulaval.ca/css/main.css">
    <!-- HTML5 Shiv and Media Query Support for IE -->
    <!--[if lt IE 9]>
      <script src="https://norlab.ulaval.ca/js/vendor/html5shiv.min.js"></script>
      <script src="https://norlab.ulaval.ca/js/vendor/respond.min.js"></script>
    <![endif]-->

		<!-- Load MathJax if required -->
		

		<!-- Load extra fonts -->
		<link href="https://fonts.googleapis.com/css?family=Open+Sans|Rokkitt:200" rel="stylesheet">

  </head>

  <body id="js-body">
    <!--[if lt IE 9]><div class="upgrade notice-warning"><strong>Your browser is quite old!</strong> Why not <a href="http://whatbrowser.org/">upgrade to a newer one</a> to better enjoy this site?</div><![endif]-->

    <header id="masthead">
  <div class="inner-wrap">
    <a href="https://norlab.ulaval.ca/" class="site-title">Northern Robotics Laboratory </a>
    <nav role="navigation" class="menu top-menu">
        <ul class="menu-item">
	<!--li class="home"><a href="/">Northern Robotics Laboratory</a></li-->
	
    
    <li>
		<a href="https://norlab.ulaval.ca/research/" 
		>Research</a></li>
  
    
    <li>
		<a href="https://norlab.ulaval.ca/publications/" 
		>Publications</a></li>
  
    
    <li>
		<a href="https://norlab.ulaval.ca/people/" 
		>People</a></li>
  
    
    <li>
		<a href="https://norlab.ulaval.ca/contact/" 
		>Contact Us</a></li>
  

	<!-- Search for url -->
	

	

	

	
		<li class="language-box"><span class="current-lang"> EN</span> </li>
		
			<li class="language-box"> <a  style="color:#e4e4e4;" href="/error/traduction-manquante/">FR</a> </li>
		
	

</ul>

    </nav>
  </div><!-- /.inner-wrap -->
</header><!-- /.masthead -->

    <nav role="navigation" id="js-menu" class="sliding-menu-content">
  <h5>Northern Robotics Laboratory <span>Table of Contents</span></h5>

  <ul class="menu-item">
    
			
			<li>
      	<a href="https://norlab.ulaval.ca/research/">
        
        <div class="title">Research</div>
        
      </a>
    	</li>
		
			
			<li>
      	<a href="https://norlab.ulaval.ca/publications/">
        
        <div class="title">Publications</div>
        
      </a>
    	</li>
		
			
			<li>
      	<a href="https://norlab.ulaval.ca/people/">
        
        <div class="title">People</div>
        
      </a>
    	</li>
		
			
			<li>
      	<a href="https://norlab.ulaval.ca/contact/">
        
        <div class="title">Contact Us</div>
        
      </a>
    	</li>
		
  </ul>
</nav>
<button type="button" id="js-menu-trigger" class="sliding-menu-button lines-button x2" role="button" aria-label="Toggle Navigation">
  <span class="nav-lines"></span>
</button>

<div id="js-menu-screen" class="menu-screen"></div>


    <div id="page-wrapper">
      <div id="main" role="main">
	<article class="wrap" itemscope itemtype="http://schema.org/Article">
		
		<div class="page-feature">
			<div class="page-image">
				<img src="https://norlab.ulaval.ca/images/projects/forest_mapping_feature.jpg" class="page-feature-image" alt="The Montmorency dataset" itemprop="image">
				
			</div><!-- /.page-image -->
		</div><!-- /.page-feature -->
		
		
  <nav class="breadcrumbs">
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="https://norlab.ulaval.ca" itemprop="url">
        <span itemprop="title">Home</span>
      </a> › 
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="https://norlab.ulaval.ca/research/" itemprop="url">
        <span itemprop="title">Research</span>
      </a>
    </span>
  </nav><!-- /.breadcrumbs -->

		<div class="page-title">
			<h1>The Montmorency dataset
			<p>3D Mapping for robotic forest inventory</p>
			</h1>
		</div>
		<div class="inner-wrap">
			<div id="content" class="page-content" itemprop="articleBody">
				<p>This large scale forest mapping dataset in now available for download on <a href="https://academictorrents.com/details/cf39b5c4285f20c3539cbe9f37f6e04cfde10afa">Academic Torrents</a>.
The dataset contains the ground truth species, diameter at breast height (DBH) and position of more than 1000 trees across four forests, as well as 11 trajectories of a lidar-equipped robot going through these forests.
It has been the subject of a publication at the 12th Conference on Field and Service Robotics, as well as the Journal of Field Robotics.</p>

<h1 id="dataset-structure">Dataset structure</h1>
<p>In the file paths, the textual site names (MATURE, etc.), are not used like in the research articles.
Rather, we use a shorter numerical ID: YOUNG is 1, MIXED is 2, MATURE is 3 and MAPLE is 4. <br />
The dataset is split into three categories. The first, the ground truth data, is located in the folder <span style="font-family:consolas;">groundTruthSite{SITE_ID}/</span>. The robot sensor data and mapping results are in <span style="font-family:consolas;">data{SITE_ID}_{DATE}</span>.</p>

<!---
\begin{table}[htbp]
  \centering
  \caption{Contents of the raw data bags and the mapping bags. For convenience, the content of the raw data bags are also present in the mapping bag. The localization map rate is variable, mainly because is was heavily filtered out of the mapping bags due to disk space constraints.}
  \begin{tabu}{ X[1.25] X[1] X[1] }
    \toprule
    \rowfont{\centering\sc}
    Topic name & Description & Rate (Hz) \\
    \midrule
    \rowfont{\centering}
    & \textbf{Raw data bag} & \\
    \midrule
    \texttt{/mti/sensor/imu} & IMU data & 100 \\
    \texttt{/axis/camera/image\_compressed} & RGB camera feed & 30 \\
    \texttt{/husky\_velocity\_controller/odom} & Wheel odometry & 30 \\
    \texttt{/husky\_velocity\_controller/cmd\_vel} & Commands & Variable \\
    \texttt{/velodyne\_packet} & Lidar raw data & 10 \\
    \midrule
    \rowfont{\centering}
    & \textbf{Mapping bags} & \\
    \midrule
    \texttt{/icp\_odom} & ICP trajectory & 10 \\
    \texttt{/odom/filtered} & EKF trajectory & 100 \\
    \texttt{/point\_map} & Localization map ($\mathbf{M}'_i$) & Variable \\
    \bottomrule
  \end{tabu}
  \label{tab:data_bag}
\end{table}
-->

<p><em>Table 1: Contents of the raw data bags and the mapping bags.</em></p>

<table>
  <thead>
    <tr>
      <th>Topic name</th>
      <th>Description</th>
      <th style="text-align: right">Rate (Hz)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> </td>
      <td><strong>Raw data bag</strong></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td><span style="font-family:consolas;">/mti/sensor/imu</span></td>
      <td>IMU data</td>
      <td style="text-align: right">100</td>
    </tr>
    <tr>
      <td><span style="font-family:consolas;">/axis/camera/image_compressed</span></td>
      <td>RGB camera feed</td>
      <td style="text-align: right">30</td>
    </tr>
    <tr>
      <td><span style="font-family:consolas;">/husky_velocity_controller/odom</span></td>
      <td>Wheel odometry</td>
      <td style="text-align: right">30</td>
    </tr>
    <tr>
      <td><span style="font-family:consolas;">/husky_velocity_controller/cmd_vel</span></td>
      <td>Controls</td>
      <td style="text-align: right">Variable</td>
    </tr>
    <tr>
      <td><span style="font-family:consolas;">/velodyne_packet</span></td>
      <td>Lidar raw data</td>
      <td style="text-align: right">10</td>
    </tr>
    <tr>
      <td> </td>
      <td><strong>Mapping bags</strong></td>
      <td style="text-align: right"> </td>
    </tr>
    <tr>
      <td><span style="font-family:consolas;">/icp_odom</span></td>
      <td>ICP trajectory</td>
      <td style="text-align: right">10</td>
    </tr>
    <tr>
      <td><span style="font-family:consolas;">/odom/filtered</span></td>
      <td>EKF trajectory</td>
      <td style="text-align: right">100</td>
    </tr>
    <tr>
      <td><span style="font-family:consolas;">/point_map</span></td>
      <td>Localization map</td>
      <td style="text-align: right">Variable</td>
    </tr>
  </tbody>
</table>

<h2 id="ground-truth-data">Ground truth data</h2>
<p>The ground truth data consists of the bounding boxes for individual trees as well as the DBH and picture of each trees.
Under the directory <span style="font-family:consolas;">Trees/</span>, every tree that was manually segmented from the reference trajectory is present in the file <span style="font-family:consolas;">{TREE_ID}.pcd</span>.</p>

<p>Under the directory <span style="font-family:consolas;">photos/</span>, ground-truth data for each tree is present.
The pictures themselves contain no information necessary for DBH estimation, but provide useful clues pertaining to the shape of the trees and the presence of branches at breast height.
These two factors are important for measuring DBH.
The file name of each tree picture gives the ground-truth DBH and species of this tree and has this format: <span style="font-family:consolas;">{TREE_ID}_{SPECIES}_{DBH}.jpg</span>, the DBH being in millimeters.</p>

<h2 id="robot-sensor-data">Robot sensor data</h2>
<p>The robot raw sensor data (in the <span style="font-family:consolas;">rosbag</span> file format) consists of the recording of the robot’s sensor reading while it was performing the trajectories.
There is one bag per trajectory.
The contents of the bags are shown in Table 1.
Sometimes the bag name is followed by <span style="font-family:consolas;">_time</span>, meaning that the beginning and end of the bag was truncated to remove periods where the robot did not move.
Only the raw Velodyne data is present in the bags due to disk space constraints, meaning one has to run Velodyne’s ROS node (<a href="http://wiki.ros.org/velodyne">http://wiki.ros.org/velodyne</a>) along with the bag to get standard point cloud messages.</p>

<h2 id="mapping-results">Mapping results</h2>
<p>For each trajectory, there is a directory that contains the results of our mapping algorithm, with various point densities.
The final dense 3D maps, (in the <span style="font-family:consolas;">pcd</span> file format) are in the <span style="font-family:consolas;">tmp/</span> sub-folder of each mapping directory.
<span style="font-family:consolas;">output.pcd</span> contains all of the lidar points which means it is very large and unsuitable for visualization.
<span style="font-family:consolas;">outputsmall.pcd</span> is a smaller filtered point cloud where only the 40 millions points with the strongest return intensity were kept.
<span style="font-family:consolas;">tf_to_ref.txt</span> contains the rotation matrix from the mapping results to the reference coordinate system of the bounding boxes, computed from the approach described in <a class="citation" href="#Tremblay2020">(Tremblay et al., 2020)</a>.
<span style="font-family:consolas;">outputrot.pcd</span> and <span style="font-family:consolas;">outputsmallrot.pcd</span> contain both previously described point clouds, now in the reference coordinate system. 
The mapping results also include a bag file <span style="font-family:consolas;">vizBag.bag</span> which contains the ICP trajectory and other information detailed in Table 1.
Furthermore, the <span style="font-family:consolas;">ethz_icp_mapper</span> and EKF settings are preserved in <span style="font-family:consolas;">params/</span> in each mapping result directory.</p>

<p>If you have any questions or requests, contact Jean-François Tremblay at <a href="mailto:jft@cim.mcgill.ca">jft@cim.mcgill.ca</a>.</p>

<h1 id="references">References</h1>

<ol class="bibliography" reversed="reversed"><li><span id="Tremblay2020">Tremblay, J.-F., Béland, M., Pomerleau, F., Gagnon, R., &amp; Giguère, P. (2020). Automatic 3D Mapping for Tree Diameter Measurements in Inventory Operations. <i>Journal of Field Robotics</i>. https://doi.org/10.1002/rob.21980</span>

<br />



<a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/rob.21980"><i class="fas fa-external-link-alt">&nbsp;Publisher</i></a>
&emsp;

<a class="details" href="/bibliography/Tremblay2020/"> <i class="fas fa-file-code">&nbsp;Bibtex source</i> </a></li>
<li><span id="Tremblay2019">Tremblay, J.-F., Béland, M., Pomerleau, F., Gagnon, R., &amp; Giguère, P. (2019). Automatic 3D Mapping for Tree Diameter Measurements in Inventory Operations. <i>Proceedings of the Conference on Field and Service Robotics (FSR). Springer Tracts in Advanced Robotics</i>.</span>

<br />

<a href="/pdf/Tremblay2019.pdf"><i class="fas fa-file-pdf">&nbsp;PDF</i></a>
&emsp;


<a href="/pdf/Tremblay2019.slides.pdf"><i class="fas fa-file-powerpoint">&nbsp;Slides</i></a>
&emsp;


<a class="details" href="/bibliography/Tremblay2019/"> <i class="fas fa-file-code">&nbsp;Bibtex source</i> </a></li></ol>


				<hr />
				<footer class="page-footer">
					

<div class="author-image">
	<img src="https://norlab.ulaval.ca/images/people/jf_tremblay_avatar.jpg" alt="Jean-François Tremblay">
</div><!-- ./author-image -->
<div class="author-content">
	<h3 class="author-name" >Written by <span itemprop="author">Jean-François Tremblay</span></h3>
	<p class="author-bio"></p>
</div><!-- ./author-content -->

					<div class="inline-btn">
	<a class="btn-social twitter" href="https://twitter.com/intent/tweet?text=The%20Montmorency%20dataset&amp;url=https://norlab.ulaval.ca/research/montmorencydataset/&amp;via=" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i> Share on Twitter</a>
	<a class="btn-social facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://norlab.ulaval.ca/research/montmorencydataset/" target="_blank"><i class="fab fa-facebook-f" aria-hidden="true"></i> Share on Facebook</a>
</div><!-- /.share-this -->

					<div class="page-meta">
	<p>Updated <time datetime="2020-01-25T00:00:00Z" itemprop="datePublished">January 25, 2020</time></p>
</div><!-- /.page-meta -->
				</footer><!-- /.footer -->
				<aside>
					
				</aside>
			</div><!-- /.content -->
		</div><!-- /.inner-wrap -->
		
	</article><!-- ./wrap -->
</div><!-- /#main -->

      <footer role="contentinfo" id="site-footer">
	<nav role="navigation" class="menu bottom-menu">
		<ul class="menu-item">
		
      
			<li><a href="https://www.ulaval.ca" target="_blank">Université Laval</a></li>
		
      
			<li><a href="https://www.ift.ulaval.ca" target="_blank">Département d'informatique et de génie logiciel</a></li>
		
		</ul>
	</nav><!-- /.bottom-menu -->
	<p class="copyright">&#169; 2021 <a href="https://norlab.ulaval.ca">Northern Robotics Laboratory</a> powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> + <a href="http://mmistakes.github.io/skinny-bones-jekyll/" rel="nofollow">Skinny Bones</a>.</p>
</footer>
    </div>

    <script src="https://norlab.ulaval.ca/js/vendor/jquery-1.9.1.min.js"></script>
    <script src="https://norlab.ulaval.ca/js/main.js"></script>

		
			<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117436826-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-117436826-1');
</script>


		

  </body>

</html>
